<section class="college-costs_tool-section college-costs_tool-section__summary" data-tool-section="summary">
    <h2>Review your plan and projected outcomes</h2>

    <p>Here is an overview of this school’s costs, your plan for covering them, the debt you are considering, and the school’s results on a few key metrics. As you look over these numbers again, think about whether you are feeling good about going to this school with this financial plan. If you have multiple offers, use this summary to compare them.</p>

    <div data-state-based-visibility="none">
        <button class="a-btn">Print summary</button>
        <button class="a-btn a-btn__secondary">Save as a link</button>
        <p class="u-mt15"><small>You will also have a chace to print all documents at the end.</small></p>
    </div>

    <div class="block block__mid">
        <h3 class="summary_header">School and living situation</h3>
        {{
            text_item.render({
                'label': 'School',
                'value': '',
                'type': 'text',
                'data_attribute': 'data-school-item="school"'
            })
        }}
        {{
            text_item.render({
                'label': 'Program type',
                'value': '',
                'type': 'text',
                'data_attribute': 'data-program-item="programTypeText"'
            })
        }}
        {{
            text_item.render({
                'label': 'Program name',
                'value': '',
                'type': 'text',
                'data_attribute': 'data-school-program="programName"'
            })
        }}
        {{
            text_item.render({
                'label': 'Number of years',
                'value': '',
                'type': 'text',
                'data_attribute': 'data-program-item="programLengthText"'
            })
        }}
        {{
            text_item.render({
                'label': 'Tuition type',
                'value': '',
                'type': 'text',
                'data_attribute': 'data-program-item="programRateText"'
            })
        }}
        {{
            text_item.render({
                'label': 'Where do you plan to live?',
                'value': '',
                'type': 'text',
                'data_attribute': 'data-program-item="programHousingText"'
            })
        }}
    </div>

    <div class="block block__mid">
        <h3 class="summary_header">Covering your costs</h3>
        <div class="costs-not-covered">
            {{ notification.render(
                    'caution',
                    true,
                    '',
                    '<b>Costs not covered yet:</b> <span data-cost-calculations="uncoveredCosts"></span>' | safe
            ) }} 
        </div>
        <div class="o-expandable-group">
            {% set expandable_settings = {
                'label': 'Your estimated total cost this year',
                'value': '',
                'data_attribute': 'data-costs="total"'
            } %}
            {% call() expandable(expandable_settings) %}
                <div class="block block__sub block__flush-top">
                    <h4>Direct costs</h4>
                    {{
                        text_item.render({
                            'label': 'Tuition and fees',
                            'value': '',
                            'type': 'text',
                            'data_attribute': 'data-costs="tuition_direct"'
                        })
                    }}
                    {{
                        text_item.render({
                            'label': 'Housing and meals',
                            'value': '',
                            'type': 'text',
                            'data_attribute': 'data-costs="housing_direct"'
                        })
                    }}
                    {{
                        text_item.render({
                            'label': 'Additional direct costs',
                            'value': '',
                            'type': 'text',
                            'data_attribute': 'data-costs="other_direct"'
                        })
                    }}
                </div>
                <div class="block block__sub block">
                    <h4>Indirect costs</h4>
                    {{
                        text_item.render({
                            'label': 'Books & supplies',
                            'value': '',
                            'type': 'text',
                            'data_attribute': 'data-costs="books_indirect"'
                        })
                    }}
                    {{
                        text_item.render({
                            'label': 'Transportation',
                            'value': '',
                            'type': 'text',
                            'data_attribute': 'data-costs="transportation_indirect"'
                        })
                    }}
                    {{
                        text_item.render({
                            'label': 'Other/miscellaneous expenses',
                            'value': '',
                            'type': 'text',
                            'data_attribute': 'data-costs="other_indirect"'
                        })
                    }}
                </div>
                <div class="block block__sub block__flush-bottom">
                    {{
                        text_item.render({
                            'label': 'Additional indirect costs',
                            'value': '',
                            'type': 'text',
                            'data_attribute': 'data-costs="other_additional"'
                        })
                    }}                    
                </div>
            {% endcall %}

            {% set expandable_settings = {
                'label': 'Total funding',
                'value': '',
                'data_attribute': 'data-cost-calculations="contributions"'
            } %}
            {% call() expandable(expandable_settings) %}
                <div class="block block__sub block__flush-top">
                    <h4>Non-debt</h4>
                    {{
                        text_item.render({
                            'label': 'Grants and scholarships',
                            'value': '',
                            'type': 'text',
                            'data_attribute': 'data-awarded-funding="total"'
                        })
                    }}
                    {{
                        text_item.render({
                            'label': 'Work-study',
                            'value': '',
                            'type': 'text',
                            'data_attribute': 'data-work-funding="total"'
                        })
                    }}
                    {{
                        text_item.render({
                            'label': 'Other resources',
                            'value': '',
                            'type': 'text',
                            'data_attribute': 'data-personal-funding="total"'
                        })
                    }}
                </div>
                <div class="block block__sub block__flush-bottom">
                    <h4>Debt</h4>
                    {{
                        text_item.render({
                            'label': 'Federal Loans',
                            'value': '',
                            'type': 'text',
                            'data_attribute': 'data-federal-loans="total"'
                        })
                    }}
                    {{
                        text_item.render({
                            'label': 'Loans from your state, the school, or a non-profit',
                            'value': '',
                            'type': 'text',
                            'data_attribute': 'data-public-loans="total"'
                        })
                    }}
                    {{
                        text_item.render({
                            'label': 'Private loans',
                            'value': '',
                            'type': 'text',
                            'data_attribute': 'data-private-loans="total"'
                        })
                    }}
                    {{
                        text_item.render({
                            'label': 'PLUS loans',
                            'value': '',
                            'type': 'text',
                            'data_attribute': 'data-plus-loans="total"'
                        })
                    }}
                </div>
            {% endcall %}
        </div>
    </div>
    
    <div class="block block__mid">
        <h3 class="summary_header">Affording your loans</h3>
        <div class="o-expandable-group">
            {% set expandable_settings = {
                'label': 'Could this be too much debt? How does the projected total debt compare to the median salary?',
                'value': '',
                'note': 'The projected total debt is <span class="inline" data-debt-calculations="debtGuideDifference"></span> <span data-state-based-visibility="debt-rule-violation">more</span><span data-state-based-visibility="debt-rule-passed">less</span> than the median salary. ',
                'data_attribute': ''
            } %}
            {% call() expandable(expandable_settings) %}
                
                {{
                    text_item.render({
                        'label': 'Projected total debt',
                        'value': '',
                        'type': 'text',
                        'data_attribute': 'data-debt-calculations="totalAtGrad"'
                    })
                }}
                {{
                    text_item.render({
                        'label': 'Includes Parent PLUS loans?',
                        'value': '',
                        'type': 'text',
                        'data_attribute': 'data-plus-loans="repayParentPlus"'
                    })
                }}
                <div data-state-based-visibility="program-is-selected">
                    {{
                        text_item.render({
                            'label': 'Median first-year salary of this program\'s graduates',
                            'value': '',
                            'type': 'text',
                            'data_attribute': 'data-debt-calculations="annual_salary"'
                        })
                    }}
                </div>
                <div class="undergrad-content">
                    {{
                        text_item.render({
                            'label': 'Median salary of this school\'s recent students',
                            'value': '',
                            'type': 'text',
                            'data_attribute': 'data-debt-calculations="annual_salary"'
                        })
                    }}
                </div>
                <div data-state-based-visibility="no-program-selected">
                    {{
                        text_item.render({
                            'label': 'Median first-year salary of this program\'s graduates',
                            'value': 'Ask the school for salary data',
                            'type': 'text',
                            'data_attribute': ''
                        })
                    }}
                </div>
            {% endcall %}

            {% set expandable_settings = {
                'label': 'What will interest cost me?',
                'value': '',
                'data_attribute': 'data-debt-calculations="tenYearInterest"'
            } %}
            {% call() expandable(expandable_settings) %}
                {{
                    text_item.render({
                        'label': 'Total cost of borrowing over 10-year repayment period',
                        'value': '',
                        'type': 'text',
                        'data_attribute': 'data-debt-calculations="tenYearTotal"'
                    })
                }}
            {% endcall %}
            
            {% set expandable_settings = {
                'label': 'Can I afford my estimated payment?',
                'value': '',
                'note': '',
                'data_attribute': 'data-state-item="???"'
            } %}
            {% call() expandable(expandable_settings) %}
                <div class="financial-item financial-item__full-width">
                    <div>How long will it take to earn my estimated payment?</div>
                    <div>It will take <span class="inline" data-debt-calculations="repayHours" data-is-number="true"> 0</span> hours to earn the estimated payment, assuming a wage of $15 an hour after taxes.</div>
                </div>
                <div class="financial-item financial-item__full-width">
                    <div>Can I afford my payment within a monthly budget?</div>
                    <div><span data-state-based-visibility="expenses-surplus">Yes, there is room in the hypothetical budget</span><span data-state-based-visibility="expenses-shortage">No, there is not room in the hypothetical budget</span></div>
                </div>
                {{
                    text_item.render({
                        'label': 'Estimated monthly loan payment',
                        'value': '',
                        'type': 'text',
                        'data_attribute': 'data-debt-calculations="tenYearMonthly"'
                    })
                }}
                <div data-state-based-visibility="program-is-selected">
                    {{
                        text_item.render({
                            'label': 'Median monthly first-year salary of this program\'s graduates',
                            'value': '',
                            'type': 'text',
                            'data_attribute': 'data-debt-calculations="monthly_salary"'
                        })
                    }}
                </div>
                <div class="undergrad-content">
                    {{
                        text_item.render({
                            'label': 'Median monthly salary of this school\'s recent students',
                            'value': '',
                            'type': 'text',
                            'data_attribute': 'data-debt-calculations="monthly_salary"'
                        })
                    }}
                </div>
                <div data-state-based-visibility="no-program-selected">
                    {{
                        text_item.render({
                            'label': 'Median monthly first-year salary of this program\'s graduates',
                            'value': 'Ask the school for salary data',
                            'type': 'text',
                            'data_attribute': ''
                        })
                    }}
                </div>
                {{
                    text_item.render({
                        'label': 'Average (or estimated) monthly expenses',
                        'value': '',
                        'type': 'text',
                        'data_attribute': 'data-debt-calculations="monthly_expenses"'
                    })
                }}
                {{
                    text_item.render({
                        'label': 'Additional money needed or left over',
                        'value': '',
                        'type': 'text',
                        'data_attribute': 'data-debt-calculations="remainder"'
                    })
                }}
                   
            {% endcall %}
            {% set expandable_settings = {
                'label': 'Worth your investment?',
                'value': ''
            } %}
            {% call() expandable(expandable_settings) %}
                <div class="undergrad-content">
                    {{
                        text_item.render({
                            'label': 'Graduation rate',
                            'value': '',
                            'type': 'text',
                            'data_attribute': 'data-school-item="rateGraduation"'
                        })
                    }}
                    <div class="community-college-content">
                        {{
                            text_item.render({
                                'label': 'Transfer to graduation rate',
                                'value': '',
                                'type': 'text',
                                'data_attribute': 'data-school-item=""'
                            })
                        }}
                    </div>
                    {{
                        text_item.render({
                            'label': 'Default rate',
                            'value': '',
                            'type': 'text',
                            'data_attribute': 'data-school-item="rateDefault"'
                        })
                    }}
                    {{
                        text_item.render({
                            'label': 'Repayment rate',
                            'value': '',
                            'type': 'text',
                            'data_attribute': 'data-school-item="rateRepay3yr"'
                        })
                    }}
                </div>
                <div class="graduate-content">
                    {{
                        text_item.render({
                            'label': 'Graduation rate',
                            'value': 'Ask the school.',
                            'type': 'text'
                        })
                    }}
                    {{
                        text_item.render({
                            'label': 'Default rate',
                            'value': 'Ask the school.',
                            'type': 'text'
                        })
                    }}
                    {{
                        text_item.render({
                            'label': 'Repayment rate',
                            'value': 'Ask the school.',
                            'type': 'text'
                        })
                    }}
                </div>
            {% endcall %}
        </div>
    </div>
</section>